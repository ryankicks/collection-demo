{% extends "base.html" %}

{% block content %}

<script language="JavaScript1.2">

$(document).ready(function(){

Page.init();
	
});

</script>

<a href="/collection/new" class="btn btn-small btn-primary pull-right">New Collection Pipeline</a>
<h2>Collection Pipelines</h2>

<p>Pipe tweets from users in an existing Twitter List to a Collection.</p>

<table class="table table-hover">
<thead>
<th width="25%">Name</th>
<th>List</th>
<th>Collection</th>
<th width="15%">Block words</th>
<th width="10%">Min (RT/Fav/Eng)</th>
<th width="10%">Include RT</th>
<th width="15%">Actions</th>
</thead>

{% if collections %}
{% for c in collections %}

<tr>
<td><a href={{ c.edit_url }}>{{ c.name }}</a></td>
<td><a href="https://twitter.com/rchoi/lists/{{c.list_slug}}" target="_target">{{ c.list_name }}</a></td>
<td><a href="https://twitter.com/rchoi/timelines/{{c.collection_id|slice:"7:"}}" target="_target">{{ c.collection_name }}</a></td>
<td>{{ c.block_words }}</td>
<td>{{ c.retweet_count }}/{{ c.favorite_count }}/{{ c.engagement_count }}</td>
<td>{{ c.include_retweets }}</td>
<td>
	<a href="{{ c.edit_url }}">Edit</a>
	|
	<a data-id="{{c.id}}" class="process">Process</a>
	|
	<a href="{{ c.delete_url }}">Delete</a>
</td>
</tr>

{% endfor %}
{% else %}

<tr><td colspan="5" class="text-center">

No collections.

</td></tr>

{% endif %}
</table>

{% endblock %}